<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario de Reserva</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulseShadow {
      0% { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
      50% { box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2), 0 10px 10px -5px rgba(0, 0, 0, 0.1); }
      100% { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
    }
    
    @keyframes slideInFromRight {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes ephemeralBackground {
      0%, 100% { background-color: #1a202c; }
      50% { background-color: #3b82f6; }
    }

    @keyframes fadeOutIn {
      0% { opacity: 1; transform: translateY(0); }
      49% { opacity: 0; transform: translateY(10px); }
      50% { opacity: 0; transform: translateY(-10px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    .form-container {
        animation: fadeIn 1s ease-in-out;
        transition: box-shadow 0.3s ease-in-out;
    }
    .form-container:hover {
        animation: pulseShadow 2s infinite;
    }

    #btnConfirmar {
      animation: slideInFromRight 1s ease-out;
    }

    .ephemeral-animation {
      animation: ephemeralBackground 3s infinite;
    }

    .fade-text-out-in {
      animation: fadeOutIn 0.5s ease-in-out;
    }
  </style>
</head>
<body class="bg-gray-900 flex items-center justify-center min-h-screen text-white">

  <div class="form-container bg-gray-800 shadow-xl rounded-xl p-8 max-w-md w-full border border-gray-700">
    <div class="flex justify-end mb-4">
      <select id="langSelector" class="ephemeral-animation border border-gray-600 rounded-lg px-3 py-1 text-sm bg-gray-700 text-white focus:ring-blue-500 focus:border-blue-500">
        <option value="es">Espa√±ol</option>
        <option value="en">English</option>
        <option value="fr">Fran√ßais</option>
        <option value="it">Italiano</option>
      </select>
    </div>

    <h2 id="formTitle" class="text-2xl font-bold text-center text-white mb-6">Reserva tu Mesa</h2>

    <form id="reservaForm" class="space-y-4">
      <div>
        <label id="labelNombre" class="block text-sm font-medium text-gray-400">Nombre</label>
        <input type="text" id="nombre" required class="mt-1 w-full rounded-lg border-gray-600 shadow-sm bg-gray-700 text-white focus:ring-blue-500 focus:border-blue-500">
      </div>

      <div>
        <label id="labelTelefono" class="block text-sm font-medium text-gray-400">Tel√©fono</label>
        <input type="tel" id="telefono" required class="mt-1 w-full rounded-lg border-gray-600 shadow-sm bg-gray-700 text-white focus:ring-blue-500 focus:border-blue-500">
      </div>

      <div>
        <label id="labelPersonas" class="block text-sm font-medium text-gray-400">N√∫mero de personas</label>
        <input type="number" id="personas" min="1" required class="mt-1 w-full rounded-lg border-gray-600 shadow-sm bg-gray-700 text-white focus:ring-blue-500 focus:border-blue-500">
      </div>

      <div>
        <label id="labelFecha" class="block text-sm font-medium text-gray-400">Fecha</label>
        <input type="date" id="fecha" required class="mt-1 w-full rounded-lg border-gray-600 shadow-sm bg-gray-700 text-white focus:ring-blue-500 focus:border-blue-500">
      </div>

      <div>
        <label id="labelHora" class="block text-sm font-medium text-gray-400">Hora</label>
        <input type="time" id="hora" required class="mt-1 w-full rounded-lg border-gray-600 shadow-sm bg-gray-700 text-white focus:ring-blue-500 focus:border-blue-500">
      </div>

      <div>
        <label id="labelExperiencia" class="block text-sm font-medium text-gray-400">Selecciona Experiencia</label>
        <select id="experiencia" required class="mt-1 w-full rounded-lg border-gray-600 shadow-sm bg-gray-700 text-white focus:ring-blue-500 focus:border-blue-500">
          <option value="">-- Selecciona --</option>
          <option value="Restaurante">Restaurante</option>
          <option value="Piscina">Piscina</option>
          <option value="Evento">Organizar Evento</option>
        </select>
      </div>

      <button id="btnConfirmar" type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-200">
        Confirmar por WhatsApp
      </button>
    </form>
  </div>

  <script>
    const translations = {
      es: {
        title: "Reserva tu Mesa",
        nombre: "Nombre",
        telefono: "Tel√©fono",
        personas: "N√∫mero de personas",
        fecha: "Fecha",
        hora: "Hora",
        experiencia: "Selecciona Experiencia",
        confirmar: "Confirmar por WhatsApp",
        restaurante: "Restaurante",
        piscina: "Piscina",
        evento: "Organizar Evento"
      },
      en: {
        title: "Book Your Table",
        nombre: "Full Name",
        telefono: "Phone",
        personas: "Number of People",
        fecha: "Date",
        hora: "Time",
        experiencia: "Select Experience",
        confirmar: "Confirm via WhatsApp",
        restaurante: "Restaurant",
        piscina: "Pool",
        evento: "Organize Event"
      },
      fr: {
        title: "R√©servez votre Table",
        nombre: "Nom complet",
        telefono: "T√©l√©phone",
        personas: "Nombre de personnes",
        fecha: "Date",
        hora: "Heure",
        experiencia: "S√©lectionnez une exp√©rience",
        confirmar: "Confirmer par WhatsApp",
        restaurante: "Restaurant",
        piscina: "Piscine",
        evento: "Organiser un √©v√©nement"
      },
      it: {
        title: "Prenota il tuo Tavolo",
        nombre: "Nome completo",
        telefono: "Telefono",
        personas: "Numero di persone",
        fecha: "Data",
        hora: "Ora",
        experiencia: "Seleziona Esperienza",
        confirmar: "Conferma via WhatsApp",
        restaurante: "Ristorante",
        piscina: "Piscina",
        evento: "Organizza un evento"
      }
    };

    const experienceOptions = {
        Restaurante: 'restaurante',
        Piscina: 'piscina',
        'Organizar Evento': 'evento'
    };

    document.getElementById("langSelector").addEventListener("change", function() {
      const lang = this.value;
      const elementsToTranslate = {
        formTitle: "title",
        labelNombre: "nombre",
        labelTelefono: "telefono",
        labelPersonas: "personas",
        labelFecha: "fecha",
        labelHora: "hora",
        labelExperiencia: "experiencia",
        btnConfirmar: "confirmar"
      };

      for (const [id, key] of Object.entries(elementsToTranslate)) {
        const element = document.getElementById(id);
        if (element) {
          element.classList.add("fade-text-out-in");
          setTimeout(() => {
            element.textContent = translations[lang][key];
            element.classList.remove("fade-text-out-in");
          }, 250);
        }
      }

      const experienciaSelect = document.getElementById("experiencia");
      const options = experienciaSelect.options;

      experienciaSelect.classList.add("fade-text-out-in");
      setTimeout(() => {
        for(let i = 0; i < options.length; i++) {
            const originalValue = options[i].value;
            if (originalValue) {
                const translationKey = experienceOptions[originalValue];
                if (translationKey) {
                    options[i].textContent = translations[lang][translationKey];
                }
            } else {
                options[i].textContent = `-- ${translations[lang]['experiencia'].split(' ')[0]} --`;
            }
        }
        experienciaSelect.classList.remove("fade-text-out-in");
      }, 250);
    });

    document.getElementById("reservaForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const nombre = document.getElementById("nombre").value;
      const telefono = document.getElementById("telefono").value;
      const personas = document.getElementById("personas").value;
      const fecha = document.getElementById("fecha").value;
      const hora = document.getElementById("hora").value;
      const experiencia = document.getElementById("experiencia").value;
      const resumen = `Nueva Reserva üèñÔ∏è:\n- Nombre: ${nombre}\n- Tel√©fono: ${telefono}\n- Personas: ${personas}\n- Fecha: ${fecha}\n- Hora: ${hora}\n- Experiencia: ${experiencia}`;
      const url = `https://wa.me/34644075065?text=${encodeURIComponent(resumen)}`;
      window.open(url, "_blank");
    });
  </script>
</body>
</html>
