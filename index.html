<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BuBo Beach Club - Reservas</title>
  <meta name="description" content="Reserva tu experiencia en BuBo Beach Club. Restaurante, piscina y eventos exclusivos frente al mar.">
  <meta name="theme-color" content="#0ea5e9">
  <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiQnVCbyBCZWFjaCBDbHViIiwic2hvcnRfbmFtZSI6IkJ1Qm8gQmVhY2giLCJzdGFydF91cmwiOiIvIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiIzBmMTcyYSIsInRoZW1lX2NvbG9yIjoiIzBlYTVlOSIsImljb25zIjpbeyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlNVEk0SWlCb1pXbG5hSFE5SWpFeU9DSWlJSFpwWlhkQ2IzZzlJakFnTUNBeE1qZ3VNREF3TURBeE1qZ3VNREF3TURBaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xtY3pMbTl5Wnk4eU1EQXdMM04yWnlJK1BHTnBjbU5zWlNCamVEMGlOalFpSUdONVBTSTJOQ0lpSUhJOUlqVXdJaUJtYVd4c1BTSWpNR1ZoTldVNUlpOCtQQzl6ZG1jKyIsInNpemVzIjoiMTkyeDE5MiIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn1dfQ==">
  <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOC4wMDAwMTI4LjAwMDAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxjaXJjbGUgY3g9IjY0IiBjeT0iNjQiIHI9IjUwIiBmaWxsPSIjMGVhNWU5Ii8+PC9zdmc+">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      /* Beach Club Color Palette */
      --ocean-blue: #0ea5e9;
      --deep-blue: #0284c7;
      --turquoise: #06b6d4;
      --coral: #f97316;
      --sand: #fbbf24;
      --pearl: #f8fafc;
      --seafoam: #10b981;
      --sunset: #f59e0b;
      
      /* Light theme */
      --bg-primary: linear-gradient(135deg, #0ea5e9 0%, #06b6d4 50%, #10b981 100%);
      --bg-secondary: linear-gradient(45deg, #f8fafc, #e2e8f0);
      --bg-card: rgba(248, 250, 252, 0.95);
      --text-primary: #0f172a;
      --text-secondary: #475569;
      --text-muted: #64748b;
      --text-light: #ffffff;
      --border-color: rgba(226, 232, 240, 0.8);
      --border-focus: #0ea5e9;
      --shadow-color: rgba(15, 23, 42, 0.1);
      --accent-gradient: linear-gradient(135deg, #0ea5e9, #06b6d4);
      --coral-gradient: linear-gradient(135deg, #f97316, #f59e0b);
      --success-color: #10b981;
      --error-color: #ef4444;
      
      /* Spacing and sizing */
      --spacing-xs: 0.25rem;
      --spacing-sm: 0.5rem;
      --spacing-md: 1rem;
      --spacing-lg: 1.5rem;
      --spacing-xl: 2rem;
      --border-radius: 0.75rem;
      --border-radius-lg: 1.5rem;
      --font-size-sm: 0.875rem;
      --font-size-base: 1rem;
      --font-size-lg: 1.125rem;
      --font-size-xl: 1.25rem;
      --font-size-2xl: 1.5rem;
      --font-size-3xl: 1.875rem;
    }

    /* Dark theme */
    @media (prefers-color-scheme: dark) {
      :root {
        --bg-primary: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
        --bg-secondary: linear-gradient(45deg, #1e293b, #334155);
        --bg-card: rgba(30, 41, 59, 0.95);
        --text-primary: #f8fafc;
        --text-secondary: #cbd5e1;
        --text-muted: #94a3b8;
        --border-color: rgba(71, 85, 105, 0.8);
        --shadow-color: rgba(0, 0, 0, 0.3);
      }
    }

    /* Manual dark theme toggle */
    [data-theme="dark"] {
      --bg-primary: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
      --bg-secondary: linear-gradient(45deg, #1e293b, #334155);
      --bg-card: rgba(30, 41, 59, 0.95);
      --text-primary: #f8fafc;
      --text-secondary: #cbd5e1;
      --text-muted: #94a3b8;
      --border-color: rgba(71, 85, 105, 0.8);
      --shadow-color: rgba(0, 0, 0, 0.3);
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(2.5rem); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); }
      33% { transform: translateY(-0.5rem) rotate(1deg); }
      66% { transform: translateY(0.25rem) rotate(-1deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }
    
    @keyframes oceanWave {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes shimmer {
      0% { background-position: -200% 0; }
      100% { background-position: 200% 0; }
    }

    @keyframes ripple {
      0% { transform: scale(1); opacity: 1; }
      100% { transform: scale(1.2); opacity: 0; }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    @keyframes slideIn {
      from { transform: translateX(-100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes bubbleFloat {
      0% { transform: translateY(100vh) scale(0); opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { transform: translateY(-100vh) scale(1); opacity: 0; }
    }

    body {
      background: var(--bg-primary);
      background-attachment: fixed;
      background-size: 400% 400%;
      animation: oceanWave 12s ease-in-out infinite;
      color: var(--text-primary);
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      transition: all 0.3s ease;
      min-height: 100vh;
      position: relative;
      overflow-x: hidden;
    }

    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 80%, rgba(6, 182, 212, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(16, 185, 129, 0.3) 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, rgba(14, 165, 233, 0.2) 0%, transparent 50%);
      pointer-events: none;
      z-index: -1;
    }

    .ocean-bg {
      background: var(--bg-primary);
      background-size: 400% 400%;
      animation: oceanWave 15s ease-in-out infinite;
      position: relative;
    }

    .card {
      background: var(--bg-card);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border-color);
      box-shadow: 
        0 20px 40px var(--shadow-color),
        0 0 0 1px rgba(255, 255, 255, 0.1);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.6s;
    }

    .card:hover::before {
      left: 100%;
    }

    .card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 
        0 30px 60px var(--shadow-color),
        0 0 0 1px rgba(255, 255, 255, 0.2);
    }

    .form-input {
      background: var(--bg-card);
      backdrop-filter: blur(10px);
      border: 2px solid var(--border-color);
      color: var(--text-primary);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
    }

    .form-input:focus {
      border-color: var(--border-focus);
      box-shadow: 
        0 0 0 4px rgba(14, 165, 233, 0.1),
        0 8px 25px rgba(14, 165, 233, 0.15);
      outline: none;
      transform: translateY(-2px);
    }

    .btn-primary {
      background: var(--accent-gradient);
      color: var(--text-light);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      border: none;
    }

    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.6s;
    }

    .btn-primary:hover::before {
      left: 100%;
    }

    .btn-primary:hover {
      background: var(--coral-gradient);
      transform: translateY(-3px) scale(1.05);
      box-shadow: 
        0 15px 35px rgba(14, 165, 233, 0.4),
        0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .btn-primary:active {
      transform: translateY(-1px) scale(1.02);
    }

    .floating {
      animation: float 3s ease-in-out infinite;
    }

    .fade-in-up {
      animation: fadeInUp 0.6s ease-out forwards;
    }

    .wavy {
      animation: wavyTranslate 2s ease-in-out infinite;
    }

    .theme-toggle {
      background: var(--bg-secondary);
      border: 2px solid var(--border-color);
      color: var(--text-primary);
      transition: all 0.3s ease;
    }

    .theme-toggle:hover {
      background: var(--border-color);
      transform: scale(1.05);
    }

    .success-message {
      background: var(--success-color);
      animation: slideIn 0.5s ease-out;
    }

    .error-message {
      background: var(--error-color);
      animation: slideIn 0.5s ease-out;
    }

    .loading {
      animation: pulse 1.5s ease-in-out infinite;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: var(--bg-secondary);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--accent-color);
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #2563eb;
    }

    /* Mobile-first responsive design */
    @media (max-width: 480px) {
      body {
        background-size: 300% 300%;
        animation: oceanWave 8s ease-in-out infinite;
      }

      .container {
        padding: 1rem;
      }

      .card {
        margin: 0.5rem;
        padding: 1.25rem;
        border-radius: 1.5rem;
      }

      .floating .w-24 {
        width: 4rem;
        height: 4rem;
      }

      .floating svg {
        width: 2rem;
        height: 2rem;
      }

      h1 {
        font-size: 2rem;
        line-height: 1.2;
      }

      .text-xl {
        font-size: 1rem;
      }

      .form-input {
        padding: 0.875rem 1rem;
        font-size: 1rem;
      }

      .btn-primary {
        padding: 1rem 1.5rem;
        font-size: 1rem;
      }

      .space-y-6 > * + * {
        margin-top: 1rem;
      }

      .fixed.top-4.right-4 {
        top: 1rem;
        right: 1rem;
        flex-direction: row;
        space-y: 0;
        gap: 0.5rem;
      }

      .theme-toggle {
        padding: 0.625rem;
      }

      .theme-toggle svg {
        width: 1.25rem;
        height: 1.25rem;
      }

      #languageMenu {
        right: 0;
        min-width: 100px;
      }

      .lang-option {
        padding: 0.5rem 0.75rem;
        font-size: 0.8rem;
      }

      .lang-option span:first-child {
        font-size: 1rem;
      }
    }

    /* Tablet adjustments */
    @media (min-width: 481px) and (max-width: 768px) {
      .container {
        padding: 1.5rem;
      }

      .card {
        margin: 1rem;
        padding: 2rem;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
      }

      .floating .w-24 {
        width: 5rem;
        height: 5rem;
      }

      .floating svg {
        width: 2.5rem;
        height: 2.5rem;
      }

      h1 {
        font-size: 2.5rem;
      }

      .form-input {
        padding: 1rem 1.25rem;
      }

      .btn-primary {
        padding: 1.25rem 1.5rem;
      }
    }

    /* Large tablet and small desktop */
    @media (min-width: 769px) and (max-width: 1024px) {
      .card {
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }
    }

    /* Touch-friendly interactions */
    @media (hover: none) and (pointer: coarse) {
      .card:hover {
        transform: none;
        box-shadow: 
          0 20px 40px var(--shadow-color),
          0 0 0 1px rgba(255, 255, 255, 0.1);
      }

      .btn-primary:hover {
        transform: none;
        background: var(--accent-gradient);
      }

      .form-input:focus {
        transform: none;
      }

      .theme-toggle:hover {
        transform: none;
      }
    }

    /* Landscape mobile optimization */
    @media (max-width: 768px) and (orientation: landscape) {
      .min-h-screen {
        min-height: auto;
        padding: 2rem 0;
      }

      .floating {
        margin-bottom: 1rem;
      }

      .floating .w-24, .floating .w-20, .floating .w-16 {
        width: 3rem;
        height: 3rem;
      }

      .floating svg {
        width: 1.5rem;
        height: 1.5rem;
      }

      h1 {
        font-size: 1.75rem;
        margin-bottom: 0.5rem;
      }

      .text-xl {
        font-size: 0.875rem;
      }

      .space-y-6 > * + * {
        margin-top: 0.75rem;
      }
    }

    /* High DPI displays */
    @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
      .card {
        backdrop-filter: blur(25px);
      }

      .form-input {
        backdrop-filter: blur(15px);
      }
    }

    /* Reduced motion preferences */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }

      body::before {
        animation: none;
      }

      body {
        animation: none;
      }

      .floating {
        animation: none;
      }
    }
  </style>
</head>
<body class="min-h-screen ocean-bg">
  <!-- Top Controls -->
  <div class="fixed top-4 right-4 z-50 flex flex-col space-y-3">
    <!-- Language Selector -->
    <div class="relative">
      <button id="languageToggle" class="theme-toggle p-3 rounded-full shadow-lg backdrop-filter backdrop-blur-lg flex items-center space-x-2" aria-label="Cambiar idioma">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129"></path>
        </svg>
        <span id="currentLang" class="text-sm font-medium">ES</span>
      </button>
      <div id="languageMenu" class="absolute top-full right-0 mt-2 bg-white rounded-lg shadow-xl border border-gray-200 py-2 min-w-[120px] hidden">
        <button class="lang-option w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-2" data-lang="es">
          <span class="text-lg">ðŸ‡ªðŸ‡¸</span>
          <span class="text-sm">EspaÃ±ol</span>
        </button>
        <button class="lang-option w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-2" data-lang="en">
          <span class="text-lg">ðŸ‡¬ðŸ‡§</span>
          <span class="text-sm">English</span>
        </button>
        <button class="lang-option w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-2" data-lang="fr">
          <span class="text-lg">ðŸ‡«ðŸ‡·</span>
          <span class="text-sm">FranÃ§ais</span>
        </button>
        <button class="lang-option w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-2" data-lang="de">
          <span class="text-lg">ðŸ‡©ðŸ‡ª</span>
          <span class="text-sm">Deutsch</span>
        </button>
        <button class="lang-option w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center space-x-2" data-lang="it">
          <span class="text-lg">ðŸ‡®ðŸ‡¹</span>
          <span class="text-sm">Italiano</span>
        </button>
      </div>
    </div>
    
    <!-- Theme Toggle -->
    <button id="themeToggle" class="theme-toggle p-3 rounded-full shadow-lg backdrop-filter backdrop-blur-lg" aria-label="Cambiar tema">
      <svg id="sunIcon" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
      </svg>
      <svg id="moonIcon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
      </svg>
    </button>
  </div>

  <!-- Main Container -->
  <div class="container mx-auto px-4 py-8 min-h-screen flex items-center justify-center relative z-10">
    <div class="w-full max-w-md">
      <!-- Header -->
      <div class="text-center mb-8 fade-in-up">
        <div class="floating mb-6">
          <div class="w-24 h-24 mx-auto bg-gradient-to-br from-white to-blue-50 rounded-full shadow-2xl flex items-center justify-center border-4 border-white/20 backdrop-blur-sm">
            <svg class="w-12 h-12 text-sky-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
        </div>
        <h1 class="text-4xl font-bold text-white mb-3 tracking-tight">
          <span class="bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent">
            BuBo Beach Club
          </span>
        </h1>
        <p class="text-white/90 text-xl font-light">Reserva tu experiencia perfecta</p>
        <div class="mt-4 flex justify-center space-x-6 text-white/70 text-sm">
          <span>Restaurante</span>
          <span>â€¢</span>
          <span>Piscina</span>
          <span>â€¢</span>
          <span>Eventos</span>
        </div>
      </div>

      <!-- Reservation Form -->
      <div class="card rounded-3xl p-8 fade-in-up" style="animation-delay: 0.2s;">
        <form id="reservationForm" class="space-y-6">
          <!-- Name Field -->
          <div>
            <label for="nombre" class="block text-sm font-semibold mb-3" style="color: var(--text-secondary);">
              Nombre completo *
            </label>
            <input 
              type="text" 
              id="nombre" 
              name="nombre" 
              required 
              class="form-input w-full px-4 py-4 rounded-xl text-base"
              placeholder="Tu nombre completo"
              autocomplete="name"
            >
          </div>

          <!-- Phone Field -->
          <div>
            <label for="telefono" class="block text-sm font-semibold mb-3" style="color: var(--text-secondary);">
              TelÃ©fono (WhatsApp) *
            </label>
            <input 
              type="tel" 
              id="telefono" 
              name="telefono" 
              required 
              class="form-input w-full px-4 py-4 rounded-xl text-base"
              placeholder="+34 6XX XXX XXX"
              autocomplete="tel"
            >
            <p class="text-xs text-gray-500 mt-1">Incluye prefijo +34 si no eres de EspaÃ±a</p>
          </div>

          <!-- Guests Field -->
          <div>
            <label for="personas" class="block text-sm font-semibold mb-3" style="color: var(--text-secondary);">
              NÃºmero de personas *
            </label>
            <input 
              type="number" 
              id="personas" 
              name="personas" 
              min="1" 
              max="10"
              value="2"
              required 
              class="form-input w-full px-4 py-4 rounded-xl text-base"
            >
          </div>

          <!-- Date Field -->
          <div>
            <label for="fecha" class="block text-sm font-semibold mb-3" style="color: var(--text-secondary);">
              Fecha de reserva *
            </label>
            <input 
              type="date" 
              id="fecha" 
              name="fecha" 
              required 
              class="form-input w-full px-4 py-4 rounded-xl text-base"
            >
          </div>

          <!-- Time Field -->
          <div>
            <label for="hora" class="block text-sm font-semibold mb-3" style="color: var(--text-secondary);">
              Hora preferida
            </label>
            <input 
              type="time" 
              id="hora" 
              name="hora" 
              class="form-input w-full px-4 py-4 rounded-xl text-base"
            >
          </div>

          <!-- Experience Field -->
          <div>
            <label for="experiencia" class="block text-sm font-semibold mb-3" style="color: var(--text-secondary);">
              Experiencia *
            </label>
            <select 
              id="experiencia" 
              name="experiencia" 
              required 
              class="form-input w-full px-4 py-4 rounded-xl text-base"
            >
              <option value="" disabled selected>Selecciona experiencia</option>
              <option value="Restaurante">Restaurante</option>
              <option value="Piscina">Piscina</option>
              <option value="Organizar Evento">Organizar Evento</option>
              <option value="Comer en Restaurante">Comer en Restaurante</option>
            </select>
          </div>

          <!-- GDPR Consent -->
          <div class="space-y-4">
            <div class="flex items-start space-x-3 p-4 bg-blue-50 rounded-xl border border-blue-200">
              <input 
                type="checkbox" 
                id="consent" 
                name="consent" 
                required 
                class="mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"
              >
              <label for="consent" class="text-sm text-gray-700 leading-relaxed" data-translate="consent">
                Acepto recibir comunicaciones por WhatsApp y he leÃ­do la polÃ­tica de privacidad.
              </label>
            </div>
            
            <!-- Privacy Policy Link -->
            <div class="text-center">
              <button 
                type="button" 
                id="privacyBtn"
                class="text-blue-600 hover:text-blue-800 text-sm font-medium underline transition-colors"
                data-translate="privacy_link"
              >
                Ver PolÃ­tica de Privacidad
              </button>
            </div>
          </div>

          <!-- Submit Button -->
          <button 
            type="submit" 
            id="submitBtn"
            class="btn-primary w-full py-5 px-6 rounded-xl font-bold text-lg shadow-2xl"
          >
            <span id="submitText">Confirmar por WhatsApp</span>
            <span id="loadingText" class="hidden">
              <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
              </svg>
              Abriendo WhatsApp...
            </span>
          </button>
        </form>

        <!-- Success/Error Messages -->
        <div id="messageContainer" class="mt-6 hidden">
          <div id="successMessage" class="success-message text-white p-4 rounded-lg shadow-lg hidden">
            <div class="flex items-center">
              <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
              <div>
                <h3 class="font-semibold">Â¡Reserva enviada!</h3>
                <p class="text-sm opacity-90">Te contactaremos por WhatsApp para confirmar.</p>
              </div>
            </div>
          </div>
          
          <div id="errorMessage" class="error-message text-white p-4 rounded-lg shadow-lg hidden">
            <div class="flex items-center">
              <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
              <div>
                <h3 class="font-semibold">Error al enviar</h3>
                <p class="text-sm opacity-90">Por favor, intÃ©ntalo de nuevo.</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer Info -->
      <div class="text-center mt-8 fade-in-up" style="animation-delay: 0.4s;">
        <div class="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20">
          <p class="text-white/90 text-sm leading-relaxed">
            <strong class="text-white">BuBo Beach Club</strong><br>
            <span data-translate="address">Playa de los SueÃ±os, Costa del Sol</span><br>
            <span class="text-white/70">+34 644 075 065 | <span data-translate="hours">Abierto 12:00 - 00:00</span></span>
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Privacy Policy Modal -->
  <div id="privacyModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-50 hidden flex items-center justify-center p-2 sm:p-4">
    <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] sm:max-h-[80vh] overflow-hidden shadow-2xl mx-2 sm:mx-0">
      <div class="p-4 sm:p-6 border-b border-gray-200 flex justify-between items-center">
        <h2 class="text-lg sm:text-xl font-bold text-gray-900" data-translate="privacy_title">PolÃ­tica de Privacidad</h2>
        <button id="closePrivacy" class="text-gray-500 hover:text-gray-700 p-2 -mr-2">
          <svg class="w-5 h-5 sm:w-6 sm:h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      <div class="p-4 sm:p-6 overflow-y-auto max-h-[70vh] sm:max-h-[60vh]">
        <div class="prose prose-sm max-w-none text-gray-700 text-sm sm:text-base" data-translate="privacy_content">
          <h3>Responsable del tratamiento</h3>
          <p><strong>BuBo Beach Club</strong><br>
          Playa de los SueÃ±os, Costa del Sol<br>
          TelÃ©fono: +34 644 075 065</p>
          
          <h3>Finalidad del tratamiento</h3>
          <p>Los datos personales que nos proporciones serÃ¡n utilizados para:</p>
          <ul>
            <li>Gestionar tu reserva en nuestro beach club</li>
            <li>Contactarte por WhatsApp para confirmar la disponibilidad</li>
            <li>Enviarte informaciÃ³n sobre nuestros servicios (solo si das tu consentimiento)</li>
          </ul>
          
          <h3>Base legal</h3>
          <p>El tratamiento se basa en tu consentimiento explÃ­cito y en la ejecuciÃ³n del contrato de reserva.</p>
          
          <h3>ConservaciÃ³n de datos</h3>
          <p>Conservaremos tus datos durante el tiempo necesario para gestionar tu reserva y, posteriormente, durante el plazo legal establecido.</p>
          
          <h3>Tus derechos</h3>
          <p>Puedes ejercer tus derechos de acceso, rectificaciÃ³n, supresiÃ³n, portabilidad y oposiciÃ³n contactando con nosotros. TambiÃ©n puedes darte de baja de nuestras comunicaciones en cualquier momento respondiendo "BAJA" a nuestros mensajes de WhatsApp.</p>
          
          <h3>ComunicaciÃ³n de datos</h3>
          <p>No cedemos tus datos a terceros, salvo obligaciÃ³n legal.</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Multilingual Support
    const translations = {
      es: {
        title: 'BuBo Beach Club',
        subtitle: 'Reserva tu experiencia perfecta',
        menu_items: 'Restaurante â€¢ Piscina â€¢ Eventos',
        name_label: 'Nombre completo *',
        name_placeholder: 'Tu nombre completo',
        phone_label: 'TelÃ©fono (WhatsApp) *',
        phone_placeholder: '+34 6XX XXX XXX',
        phone_help: 'Incluye prefijo +34 si no eres de EspaÃ±a',
        people_label: 'NÃºmero de personas *',
        date_label: 'Fecha de reserva *',
        time_label: 'Hora preferida',
        experience_label: 'Experiencia *',
        experience_placeholder: 'Selecciona experiencia',
        experience_restaurant: 'Restaurante',
        experience_pool: 'Piscina',
        experience_event: 'Organizar Evento',
        experience_dining: 'Comer en Restaurante',
        consent: 'Acepto recibir comunicaciones por WhatsApp y he leÃ­do la polÃ­tica de privacidad.',
        privacy_link: 'Ver PolÃ­tica de Privacidad',
        submit_btn: 'Confirmar por WhatsApp',
        submit_loading: 'Abriendo WhatsApp...',
        address: 'Playa de los SueÃ±os, Costa del Sol',
        hours: 'Abierto 12:00 - 00:00',
        privacy_title: 'PolÃ­tica de Privacidad',
        whatsapp_message: 'Reserva BuBo Beach âœ¨\nâ€¢ Nombre: {name}\nâ€¢ Tel: {phone}\nâ€¢ Personas: {people}\nâ€¢ Fecha: {date}\nâ€¢ Hora: {time}\nâ€¢ Experiencia: {experience}\n\nPuedes responder BAJA para darte de baja.',
        success_title: 'Â¡Reserva enviada!',
        success_message: 'Te contactaremos por WhatsApp para confirmar.',
        error_title: 'Error al enviar',
        error_message: 'Por favor, intÃ©ntalo de nuevo.',
        consent_required: 'Debes aceptar la polÃ­tica de privacidad.'
      },
      en: {
        title: 'BuBo Beach Club',
        subtitle: 'Book your perfect experience',
        menu_items: 'Restaurant â€¢ Pool â€¢ Events',
        name_label: 'Full name *',
        name_placeholder: 'Your full name',
        phone_label: 'Phone (WhatsApp) *',
        phone_placeholder: '+34 6XX XXX XXX',
        phone_help: 'Include +34 prefix if not from Spain',
        people_label: 'Number of people *',
        date_label: 'Reservation date *',
        time_label: 'Preferred time',
        experience_label: 'Experience *',
        experience_placeholder: 'Select experience',
        experience_restaurant: 'Restaurant',
        experience_pool: 'Pool',
        experience_event: 'Organize Event',
        experience_dining: 'Dining at Restaurant',
        consent: 'I accept to receive WhatsApp communications and have read the privacy policy.',
        privacy_link: 'View Privacy Policy',
        submit_btn: 'Confirm via WhatsApp',
        submit_loading: 'Opening WhatsApp...',
        address: 'Dream Beach, Costa del Sol',
        hours: 'Open 12:00 - 00:00',
        privacy_title: 'Privacy Policy',
        whatsapp_message: 'BuBo Beach Reservation âœ¨\nâ€¢ Name: {name}\nâ€¢ Phone: {phone}\nâ€¢ People: {people}\nâ€¢ Date: {date}\nâ€¢ Time: {time}\nâ€¢ Experience: {experience}\n\nReply STOP to unsubscribe.',
        success_title: 'Reservation sent!',
        success_message: 'We will contact you via WhatsApp to confirm.',
        error_title: 'Error sending',
        error_message: 'Please try again.',
        consent_required: 'You must accept the privacy policy.'
      },
      fr: {
        title: 'BuBo Beach Club',
        subtitle: 'RÃ©servez votre expÃ©rience parfaite',
        menu_items: 'Restaurant â€¢ Piscine â€¢ Ã‰vÃ©nements',
        name_label: 'Nom complet *',
        name_placeholder: 'Votre nom complet',
        phone_label: 'TÃ©lÃ©phone (WhatsApp) *',
        phone_placeholder: '+34 6XX XXX XXX',
        phone_help: 'Inclure le prÃ©fixe +34 si pas d\'Espagne',
        people_label: 'Nombre de personnes *',
        date_label: 'Date de rÃ©servation *',
        time_label: 'Heure prÃ©fÃ©rÃ©e',
        experience_label: 'ExpÃ©rience *',
        experience_placeholder: 'SÃ©lectionner expÃ©rience',
        experience_restaurant: 'Restaurant',
        experience_pool: 'Piscine',
        experience_event: 'Organiser Ã‰vÃ©nement',
        experience_dining: 'DÃ®ner au Restaurant',
        consent: 'J\'accepte de recevoir des communications WhatsApp et j\'ai lu la politique de confidentialitÃ©.',
        privacy_link: 'Voir Politique de ConfidentialitÃ©',
        submit_btn: 'Confirmer via WhatsApp',
        submit_loading: 'Ouverture WhatsApp...',
        address: 'Plage des RÃªves, Costa del Sol',
        hours: 'Ouvert 12:00 - 00:00',
        privacy_title: 'Politique de ConfidentialitÃ©',
        whatsapp_message: 'RÃ©servation BuBo Beach âœ¨\nâ€¢ Nom: {name}\nâ€¢ TÃ©l: {phone}\nâ€¢ Personnes: {people}\nâ€¢ Date: {date}\nâ€¢ Heure: {time}\nâ€¢ ExpÃ©rience: {experience}\n\nRÃ©pondez STOP pour vous dÃ©sabonner.',
        success_title: 'RÃ©servation envoyÃ©e!',
        success_message: 'Nous vous contacterons via WhatsApp pour confirmer.',
        error_title: 'Erreur d\'envoi',
        error_message: 'Veuillez rÃ©essayer.',
        consent_required: 'Vous devez accepter la politique de confidentialitÃ©.'
      },
      de: {
        title: 'BuBo Beach Club',
        subtitle: 'Buchen Sie Ihr perfektes Erlebnis',
        menu_items: 'Restaurant â€¢ Pool â€¢ Events',
        name_label: 'VollstÃ¤ndiger Name *',
        name_placeholder: 'Ihr vollstÃ¤ndiger Name',
        phone_label: 'Telefon (WhatsApp) *',
        phone_placeholder: '+34 6XX XXX XXX',
        phone_help: 'PrÃ¤fix +34 hinzufÃ¼gen, wenn nicht aus Spanien',
        people_label: 'Anzahl Personen *',
        date_label: 'Reservierungsdatum *',
        time_label: 'Bevorzugte Zeit',
        experience_label: 'Erlebnis *',
        experience_placeholder: 'Erlebnis auswÃ¤hlen',
        experience_restaurant: 'Restaurant',
        experience_pool: 'Pool',
        experience_event: 'Event organisieren',
        experience_dining: 'Im Restaurant essen',
        consent: 'Ich akzeptiere WhatsApp-Kommunikation und habe die Datenschutzrichtlinie gelesen.',
        privacy_link: 'Datenschutzrichtlinie anzeigen',
        submit_btn: 'Via WhatsApp bestÃ¤tigen',
        submit_loading: 'WhatsApp Ã¶ffnen...',
        address: 'Traumstrand, Costa del Sol',
        hours: 'GeÃ¶ffnet 12:00 - 00:00',
        privacy_title: 'Datenschutzrichtlinie',
        whatsapp_message: 'BuBo Beach Reservierung âœ¨\nâ€¢ Name: {name}\nâ€¢ Tel: {phone}\nâ€¢ Personen: {people}\nâ€¢ Datum: {date}\nâ€¢ Zeit: {time}\nâ€¢ Erlebnis: {experience}\n\nAntworten Sie STOP zum Abmelden.',
        success_title: 'Reservierung gesendet!',
        success_message: 'Wir kontaktieren Sie via WhatsApp zur BestÃ¤tigung.',
        error_title: 'Sendefehler',
        error_message: 'Bitte versuchen Sie es erneut.',
        consent_required: 'Sie mÃ¼ssen die Datenschutzrichtlinie akzeptieren.'
      },
      it: {
        title: 'BuBo Beach Club',
        subtitle: 'Prenota la tua esperienza perfetta',
        menu_items: 'Ristorante â€¢ Piscina â€¢ Eventi',
        name_label: 'Nome completo *',
        name_placeholder: 'Il tuo nome completo',
        phone_label: 'Telefono (WhatsApp) *',
        phone_placeholder: '+34 6XX XXX XXX',
        phone_help: 'Includi prefisso +34 se non dalla Spagna',
        people_label: 'Numero di persone *',
        date_label: 'Data prenotazione *',
        time_label: 'Orario preferito',
        experience_label: 'Esperienza *',
        experience_placeholder: 'Seleziona esperienza',
        experience_restaurant: 'Ristorante',
        experience_pool: 'Piscina',
        experience_event: 'Organizzare Evento',
        experience_dining: 'Cenare al Ristorante',
        consent: 'Accetto di ricevere comunicazioni WhatsApp e ho letto l\'informativa sulla privacy.',
        privacy_link: 'Vedi Informativa Privacy',
        submit_btn: 'Conferma via WhatsApp',
        submit_loading: 'Apertura WhatsApp...',
        address: 'Spiaggia dei Sogni, Costa del Sol',
        hours: 'Aperto 12:00 - 00:00',
        privacy_title: 'Informativa sulla Privacy',
        whatsapp_message: 'Prenotazione BuBo Beach âœ¨\nâ€¢ Nome: {name}\nâ€¢ Tel: {phone}\nâ€¢ Persone: {people}\nâ€¢ Data: {date}\nâ€¢ Ora: {time}\nâ€¢ Esperienza: {experience}\n\nRispondi STOP per cancellarti.',
        success_title: 'Prenotazione inviata!',
        success_message: 'Ti contatteremo via WhatsApp per confermare.',
        error_title: 'Errore invio',
        error_message: 'Per favore riprova.',
        consent_required: 'Devi accettare l\'informativa sulla privacy.'
      }
    };

    let currentLanguage = localStorage.getItem('language') || 'es';

    // Language functionality
    const languageToggle = document.getElementById('languageToggle');
    const languageMenu = document.getElementById('languageMenu');
    const currentLangSpan = document.getElementById('currentLang');
    const langOptions = document.querySelectorAll('.lang-option');

    // Update current language display
    function updateLanguageDisplay() {
      currentLangSpan.textContent = currentLanguage.toUpperCase();
    }

    // Translate page content
    function translatePage() {
      const elements = document.querySelectorAll('[data-translate]');
      elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[currentLanguage] && translations[currentLanguage][key]) {
          if (element.tagName === 'INPUT' && element.type !== 'checkbox') {
            if (element.placeholder !== undefined) {
              element.placeholder = translations[currentLanguage][key];
            } else {
              element.value = translations[currentLanguage][key];
            }
          } else if (element.tagName === 'OPTION') {
            element.textContent = translations[currentLanguage][key];
          } else {
            element.innerHTML = translations[currentLanguage][key];
          }
        }
      });

      // Update specific elements
      document.querySelector('h1 span').textContent = translations[currentLanguage].title;
      document.querySelector('h1').nextElementSibling.textContent = translations[currentLanguage].subtitle;
      document.querySelector('.text-white\\/70').innerHTML = translations[currentLanguage].menu_items;
      
      // Update form labels
      document.querySelector('label[for="nombre"]').textContent = translations[currentLanguage].name_label;
      document.querySelector('label[for="telefono"]').textContent = translations[currentLanguage].phone_label;
      document.querySelector('label[for="personas"]').textContent = translations[currentLanguage].people_label;
      document.querySelector('label[for="fecha"]').textContent = translations[currentLanguage].date_label;
      document.querySelector('label[for="hora"]').textContent = translations[currentLanguage].time_label;
      document.querySelector('label[for="experiencia"]').textContent = translations[currentLanguage].experience_label;
      
      // Update placeholders
      document.getElementById('nombre').placeholder = translations[currentLanguage].name_placeholder;
      document.getElementById('telefono').placeholder = translations[currentLanguage].phone_placeholder;
      
      // Update help text
      document.querySelector('.text-xs.text-gray-500').textContent = translations[currentLanguage].phone_help;
      
      // Update select options
      const experienceSelect = document.getElementById('experiencia');
      experienceSelect.options[0].textContent = translations[currentLanguage].experience_placeholder;
      experienceSelect.options[1].textContent = translations[currentLanguage].experience_restaurant;
      experienceSelect.options[2].textContent = translations[currentLanguage].experience_pool;
      experienceSelect.options[3].textContent = translations[currentLanguage].experience_event;
      experienceSelect.options[4].textContent = translations[currentLanguage].experience_dining;
      
      // Update button text
      document.getElementById('submitText').textContent = translations[currentLanguage].submit_btn;
      document.getElementById('loadingText').innerHTML = `
        <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
        </svg>
        ${translations[currentLanguage].submit_loading}
      `;
    }

    // Language menu toggle
    languageToggle.addEventListener('click', (e) => {
      e.stopPropagation();
      languageMenu.classList.toggle('hidden');
    });

    // Close language menu when clicking outside
    document.addEventListener('click', () => {
      languageMenu.classList.add('hidden');
    });

    // Language selection
    langOptions.forEach(option => {
      option.addEventListener('click', (e) => {
        e.stopPropagation();
        currentLanguage = option.getAttribute('data-lang');
        localStorage.setItem('language', currentLanguage);
        updateLanguageDisplay();
        translatePage();
        languageMenu.classList.add('hidden');
      });
    });

    // Initialize language
    updateLanguageDisplay();
    translatePage();

    // Theme Toggle Functionality
    const themeToggle = document.getElementById('themeToggle');
    const sunIcon = document.getElementById('sunIcon');
    const moonIcon = document.getElementById('moonIcon');
    const body = document.body;

    // Check for saved theme preference or default to light mode
    const currentTheme = localStorage.getItem('theme') || 'light';
    if (currentTheme === 'dark') {
      body.setAttribute('data-theme', 'dark');
      sunIcon.classList.add('hidden');
      moonIcon.classList.remove('hidden');
    }

    themeToggle.addEventListener('click', () => {
      const isDark = body.getAttribute('data-theme') === 'dark';
      
      if (isDark) {
        body.removeAttribute('data-theme');
        sunIcon.classList.remove('hidden');
        moonIcon.classList.add('hidden');
        localStorage.setItem('theme', 'light');
      } else {
        body.setAttribute('data-theme', 'dark');
        sunIcon.classList.add('hidden');
        moonIcon.classList.remove('hidden');
        localStorage.setItem('theme', 'dark');
      }
    });

    // Privacy Policy Modal
    const privacyBtn = document.getElementById('privacyBtn');
    const privacyModal = document.getElementById('privacyModal');
    const closePrivacy = document.getElementById('closePrivacy');

    privacyBtn.addEventListener('click', () => {
      privacyModal.classList.remove('hidden');
    });

    closePrivacy.addEventListener('click', () => {
      privacyModal.classList.add('hidden');
    });

    privacyModal.addEventListener('click', (e) => {
      if (e.target === privacyModal) {
        privacyModal.classList.add('hidden');
      }
    });

    // Set minimum date to today
    const dateInput = document.getElementById('fecha');
    const today = new Date().toISOString().split('T')[0];
    dateInput.min = today;

    // WhatsApp destination number
    const DESTINO = '34644075065'; // +34 644 07 50 65 without '+'

    // Form Submission Handler
    const form = document.getElementById('reservationForm');
    const submitBtn = document.getElementById('submitBtn');
    const submitText = document.getElementById('submitText');
    const loadingText = document.getElementById('loadingText');
    const messageContainer = document.getElementById('messageContainer');
    const successMessage = document.getElementById('successMessage');
    const errorMessage = document.getElementById('errorMessage');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Check GDPR consent
      if (!document.getElementById('consent').checked) {
        alert(translations[currentLanguage].consent_required);
        return;
      }
      
      // Show loading state
      submitBtn.disabled = true;
      submitText.classList.add('hidden');
      loadingText.classList.remove('hidden');
      
      // Hide previous messages
      if (messageContainer) {
        messageContainer.classList.add('hidden');
        successMessage.classList.add('hidden');
        errorMessage.classList.add('hidden');
      }

      // Get form data
      const nombre = document.getElementById('nombre').value.trim();
      const telCli = document.getElementById('telefono').value.trim();
      const pax = document.getElementById('personas').value;
      const fecha = document.getElementById('fecha').value;
      const hora = document.getElementById('hora').value || '-';
      const exp = document.getElementById('experiencia').value;

      // Basic phone normalization (if no prefix provided)
      const telFmt = telCli.startsWith('+') ? telCli : '+34' + telCli.replace(/\D+/g,'');

      // Create WhatsApp message with unsubscribe option
      const mensaje = translations[currentLanguage].whatsapp_message
        .replace('{name}', nombre)
        .replace('{phone}', telFmt)
        .replace('{people}', pax)
        .replace('{date}', fecha)
        .replace('{time}', hora)
        .replace('{experience}', exp);

      // Simulate processing time
      await new Promise(resolve => setTimeout(resolve, 1500));

      try {
        // Create WhatsApp URL
        const url = `https://wa.me/${DESTINO}?text=${encodeURIComponent(mensaje)}`;
        
        // Open WhatsApp
        const opened = window.open(url, '_blank');
        
        if (!opened) {
          // Fallback if popup blocked
          const fallbackLink = document.createElement('a');
          fallbackLink.href = url;
          fallbackLink.target = '_blank';
          fallbackLink.textContent = 'Abrir WhatsApp manualmente';
          fallbackLink.className = 'text-blue-600 hover:underline font-medium';
          
          alert('Por favor, permite ventanas emergentes o usa el enlace que aparecerÃ¡.');
          document.body.appendChild(fallbackLink);
          fallbackLink.click();
          document.body.removeChild(fallbackLink);
        }
        
        // Show success message
        if (messageContainer) {
          messageContainer.classList.remove('hidden');
          successMessage.classList.remove('hidden');
          
          // Update success message text
          successMessage.querySelector('h3').textContent = translations[currentLanguage].success_title;
          successMessage.querySelector('p').textContent = translations[currentLanguage].success_message;
          
          // Auto-hide success message after 5 seconds
          setTimeout(() => {
            messageContainer.classList.add('hidden');
            successMessage.classList.add('hidden');
          }, 5000);
        }
        
        // Reset form
        form.reset();
        // Reset personas to default value
        document.getElementById('personas').value = '2';
        
      } catch (error) {
        console.error('Error:', error);
        
        // Show error message
        if (messageContainer) {
          messageContainer.classList.remove('hidden');
          errorMessage.classList.remove('hidden');
          
          // Update error message text
          errorMessage.querySelector('h3').textContent = translations[currentLanguage].error_title;
          errorMessage.querySelector('p').textContent = translations[currentLanguage].error_message;
          
          // Auto-hide error message after 5 seconds
          setTimeout(() => {
            messageContainer.classList.add('hidden');
            errorMessage.classList.add('hidden');
          }, 5000);
        }
      } finally {
        // Reset button state
        submitBtn.disabled = false;
        submitText.classList.remove('hidden');
        loadingText.classList.add('hidden');
      }
    });

    // Form validation enhancements
    const inputs = form.querySelectorAll('input, select');
    inputs.forEach(input => {
      input.addEventListener('blur', validateField);
      input.addEventListener('input', clearFieldError);
    });

    function validateField(e) {
      const field = e.target;
      const value = field.value.trim();
      
      // Remove existing error styling
      field.classList.remove('border-red-500');
      
      // Validate required fields
      if (field.hasAttribute('required') && !value) {
        field.classList.add('border-red-500');
        return false;
      }
      
      // Validate phone number
      if (field.type === 'tel' && value) {
        const phoneRegex = /^[\+]?[0-9\s\-\(\)]{9,}$/;
        if (!phoneRegex.test(value)) {
          field.classList.add('border-red-500');
          return false;
        }
      }
      
      // Validate number of people
      if (field.type === 'number' && value) {
        const num = parseInt(value);
        if (num < 1 || num > 10) {
          field.classList.add('border-red-500');
          return false;
        }
      }
      
      return true;
    }

    function clearFieldError(e) {
      e.target.classList.remove('border-red-500');
    }

    // Add smooth scrolling for better UX
    document.documentElement.style.scrollBehavior = 'smooth';

    // Add entrance animations with stagger
    const animatedElements = document.querySelectorAll('.fade-in-up');
    animatedElements.forEach((el, index) => {
      el.style.animationDelay = `${index * 0.1}s`;
    });

    // Add focus management for accessibility
    form.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && e.target.tagName !== 'TEXTAREA') {
        e.preventDefault();
        const formElements = Array.from(form.elements);
        const currentIndex = formElements.indexOf(e.target);
        const nextElement = formElements[currentIndex + 1];
        
        if (nextElement && nextElement.type !== 'submit') {
          nextElement.focus();
        } else {
          form.requestSubmit();
        }
      }
    });

    // Mobile-specific enhancements
    function isMobile() {
      return window.innerWidth <= 768 || /Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }

    // Prevent zoom on input focus for iOS
    if (isMobile()) {
      const inputs = document.querySelectorAll('input, select, textarea');
      inputs.forEach(input => {
        input.addEventListener('focus', () => {
          if (input.type !== 'date' && input.type !== 'time') {
            input.style.fontSize = '16px';
          }
        });
        
        input.addEventListener('blur', () => {
          input.style.fontSize = '';
        });
      });

      // Add touch feedback for buttons
      const buttons = document.querySelectorAll('button');
      buttons.forEach(button => {
        button.addEventListener('touchstart', () => {
          button.style.transform = 'scale(0.98)';
        });
        
        button.addEventListener('touchend', () => {
          setTimeout(() => {
            button.style.transform = '';
          }, 100);
        });
      });

      // Improve scroll behavior on mobile
      document.body.style.webkitOverflowScrolling = 'touch';
      
      // Handle viewport height changes (mobile keyboard)
      let vh = window.innerHeight * 0.01;
      document.documentElement.style.setProperty('--vh', `${vh}px`);
      
      window.addEventListener('resize', () => {
        let vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
      });
    }

    // Optimize animations for mobile performance
    if (isMobile()) {
      // Reduce animation complexity on mobile
      const style = document.createElement('style');
      style.textContent = `
        @media (max-width: 768px) {
          .card::before {
            display: none;
          }
          .btn-primary::before {
            display: none;
          }
          body::before {
            background: radial-gradient(circle at 50% 50%, rgba(14, 165, 233, 0.2) 0%, transparent 70%);
          }
        }
      `;
      document.head.appendChild(style);
    }

    // Handle orientation changes
    window.addEventListener('orientationchange', () => {
      setTimeout(() => {
        window.scrollTo(0, 0);
      }, 100);
    });
  </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9714f3bd47560469',t:'MTc1NTU1NzIzNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
